<%- include('../shared/partials/head', { pageTitle: 'Application' }) %>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous" defer></script>
<script src="/scripts/script.js" defer></script>
<link rel="stylesheet" href="/css/application.css">
<link rel="stylesheet" href="/css/dashboardOb.css">
<link rel="stylesheet" href="/css/profileInformation.css">
<style>
  .application-content::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 100vh;
    background: url("/images/bg.png") no-repeat center center;
    background-size: cover;
    z-index: -1;
  }
</style>
</head>
<body>

  <!--Start of OB code-->

  <section class="dashboard-section">
    <div class="sidebar">
      <div
        class="d-flex justify-content-center align-items-center gap-2 fs-4"
      >
        <i class="bi bi-person-circle icon-large"></i>
        <span><span>Admin:</span> 1234556</span>
      </div>
      <div class="sidebar-btns">
        <!-- <button class="profile-btn" data-bs-toggle="modal" data-bs-target="#staticBackdrop">Profile Information</button> -->
        <button class="log-btn text-dark"><a class="text-dark" href="/admin/logout">Logout</a></button>
      </div>
    </div>
    <div class="dashboard-page-main">
      <div class="dashboard-overview">
        <h2>Overview</h2>
      </div>
      <div class="Section-Container">
        <Section class="Details">

            <div class="Student-Information">
                <h3>Student Information</h3>
                
            </div>
            <div class="Students-details-Name-Student-bunber">

              <h4>Name: <span><%= singleApplication.studentName %></span> </h4> 
              <h4>Student Number: <span><%= singleApplication.studentNum %></span> </h4>
              <h4>Email: <span><%= student.email %></span></h4>
              <h4>Phone: <span><%= student.phone %></span> </h4>
          </div>
          <div class="Academic-records">
            <h3>Academic Information</h3>
          </div>
        <div class="Academic-Records-container">  
          <div class="academic-records-details">
            <div class="Transcrpt-view">
              <h4>Transcript</h4>
              <a href="/student/<%= singleApplication.documentPath %>" target="_blank">View</a>
            </div>
          </div>
          <span class="grades-avarage">
            <h4>GPA/Overall Avarage: <span><%= singleApplication.average %></span> </h4>
          </span>
        </div>
            <div class="Residence-Choices">
              <h3>Residence Choices</h3>
            </div>
            <div class="Choices-3">
              <form action="/application/update/<%= singleApplication._id %>" method="POST">
                <table>
                  <tr>
                    <th>Residence</th>
                    <th>Status</th>
                    <th>Action</th>
                  </tr>
                  <tr>
                    <td><%= singleApplication.residenceOne %></td>
                    <td><%= singleApplication.residenceOneStatus %></td>
                    <td>
                      <% if(singleApplication.residenceOneStatus == "Accepted" || singleApplication.residenceTwoStatus == "Accepted" || singleApplication.residenceThreeStatus == "Accepted") {%>
                        <select name="residenceOneStatus" id="residenceOneStatus" disabled>
                          <option>Processed</option>
                        </select>
                      <% }else { %>
                        <select name="residenceOneStatus" id="residenceOneStatus">
                          <option value="Conditionally Accepted">Conditionally Accepted</option>
                          <option value="Accepted">Accepted</option>
                          <option value="Rejected">Rejected</option>
                        </select>
                      <% } %>
                    </td>
                  </tr>
                  <tr>
                    <td><%= singleApplication.residenceTwo %></td>
                    <td><%= singleApplication.residenceTwoStatus %></td>
                    <td>
                      <% if(singleApplication.residenceOneStatus == "Accepted" || singleApplication.residenceTwoStatus == "Accepted" || singleApplication.residenceThreeStatus == "Accepted") {%>
                        <select name="residenceTwoStatus" id="residenceTwoStatus" disabled>
                          <option>Processed</option>
                        </select>
                      <% }else { %>
                        <select name="residenceTwoStatus" id="residenceTwoStatus">
                          <option value="Conditionally Accepted">Conditionally Accepted</option>
                          <option value="Accepted">Accepted</option>
                          <option value="Rejected">Rejected</option>
                        </select>
                      <% } %>
                    </td>
                  </tr>
                  <tr>
                    <td><%= singleApplication.residenceThree %></td>
                    <td><%= singleApplication.residenceThreeStatus %></td>
                    <td>
                      <% if(singleApplication.residenceOneStatus == "Accepted" || singleApplication.residenceTwoStatus == "Accepted" || singleApplication.residenceThreeStatus == "Accepted") {%>
                        <select name="residenceThreeStatus" id="residenceThreeStatus" disabled>
                          <option>Processed</option>
                        </select>
                      <% }else { %>
                        <select name="residenceThreeStatus" id="residenceThreeStatus">
                          <option value="Conditionally Accepted">Conditionally Accepted</option>
                          <option value="Accepted">Accepted</option>
                          <option value="Rejected">Rejected</option>
                        </select>
                      <% } %>
                    </td>
                  </tr>
                </table>
                
                <% if(singleApplication.residenceOneStatus == "Accepted" || singleApplication.residenceTwoStatus == "Accepted" || singleApplication.residenceThreeStatus == "Accepted") {%>
                  <div class="Comment-and-label">
                    <h3 class="comment-name">Comments</h3>
                    <textarea name="comments" id="comments" class="textarea" disabled></textarea>
                  </div>
                  <button id="button" disabled style="background-color: gray;">Save Changes</button>
                <% }else { %>
                  <div class="Comment-and-label">
                    <h3 class="comment-name">Comments</h3>
                    <textarea name="comments" id="comments" class="textarea"></textarea>
                  </div>
                  <button type="button" id="button"><a href="/admin/dashboard">Back</a></button>
                  <button id="button">Save Changes</button>
                <% } %>
                </form>
            </div>

        </Section> 

    </div>

  









<%- include('../shared/partials/footer') %>